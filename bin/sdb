#!/usr/bin/env node

/**
 * Module dependencies.
 */

var program = require('commander')
	exec = require("../lib/main");

program
	.version('0.0.1')
	.option('-c, --config <path>', 'set config path. defaults to /home/root/.sdb')
	.option('-k, --key <serial>', 'set credentials key.')
	.option('-s, --secret <serial>', 'set credentials secret.');

program
	.command('read [domain]')
	.description('Read entries from domain')
	.option("-a, --all", "Read all")
	.action(function(domain, options){
		domain = domain || '*';
		console.log('read all entries in domain %s', domain);
	}).on('--help', function() {
		console.log('  Examples:');
		console.log();
		console.log('    $ read {{domain}}');
		console.log('    $ read {{domain}} --all');
		console.log();
});

program.parse(process.argv);

exec( program );
